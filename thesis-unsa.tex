\documentclass[11pt,twoside]{book}
\usepackage[spanish]{babel}

% referencias coma na pagina anterior, etc
\usepackage{bookman}
%\usepackage[T1]{fontenc}

%\usepackage[brazil]{varioref}
%\usepackage[verbose,a4paper,nohead,left=2.5cm,right=2.5cm,top=3cm,bottom=3cm]{geometry}

% acentuação
\usepackage[utf8]{inputenc}
\usepackage{indentfirst}
\usepackage[table]{xcolor}% http://ctan.org/pkg/xcolor
\usepackage{mathtools}
 \usepackage{fancybox}

\usepackage{xspace}
%\usepackage{chicago}
\usepackage{url}
\usepackage{setspace}
\usepackage{graphicx}

 \usepackage{amsfonts}
\usepackage[bbgreekl]{mathbbol}
\usepackage{amssymb}
\usepackage{url}
\usepackage{multirow}
\usepackage{booktabs}
\usepackage{paralist}
\usepackage{pdfpages}
\usepackage{color}
\usepackage{subfigure}
\definecolor{red}{rgb}{0.9,0.1,0.1}
\definecolor{blue}{rgb}{0,0.1,0.8}

%%% cria links no arquivo .pdf
%%% comentar as linhas na versão para impressao
\usepackage[pdftex, plainpages=false, hyperfootnotes=false]{hyperref}
\hypersetup{colorlinks=true, linkcolor=blue, citecolor=blue, urlcolor=blue}

%%% bibliografia
%\usepackage{natbib}
\usepackage[sf,outermarks,clearempty]{titlesec}

\usepackage[pdftex]{geometry}
  \geometry{a4paper,left=3cm,right=2cm,top=3cm,bottom=3cm,twoside}

\usepackage{acronym}

\usepackage[ruled,vlined,portugues,algochapter]{algorithm2e}
\usepackage{algorithmic-pt}  % Algoritmos em Portugues
\usepackage{eqparbox,array}
\renewcommand\algorithmiccomment[1]{%
    {// \small{\textit{#1}}}%
}
\newcommand\LONGCOMMENT[1]{%
  \hfill\#\ \begin{minipage}[t]{\eqboxwidth{COMMENT}}#1\strut\end{minipage}%
}

\acrodef{CBIR} {Content-based Image Retrieval}
\acrodef{MAM}  {Métodos de Acceso Métrico}
\acrodef{SAM}  {Métodos de Acceso Espacial}
\acrodef{MAE}  {Métodos de Acesso Espaciais}

\acrodef{DTW}  {Dynamic Time Warping}
\acrodef{LSH}  {Locality Sensitive Hashing}

\newcommand{ \Correction }[ 1 ] {\textcolor{black}{#1}}
\newcommand{ \NewMaterial }[ 1 ] {\textcolor{black}{#1}}
\newcommand{ \ConnectDots }[ 1 ] {\textcolor{black}{#1}}
\newcommand{ \NewMaterialGPU }[ 1 ] {\textcolor{green}{#1}}
\newcommand{ \Error }[ 1 ] {\textcolor{red}{#1}}

% Different font in captions
\newcommand{\captionfonts}{\small}

%defina o tamanho da barra na tabela de cronograma
\newcommand{\barrai}[1]{\rule{#1}{2mm}}
\newcommand{\barrad}[2]{\hspace{#1} \rule{#2}{2mm}}

% declara 'e' para função exponencial
\DeclareMathOperator{\e}{e}

\makeatletter  % Allow the use of @ in command names
\long\def\@makecaption#1#2{%
  \vskip\abovecaptionskip
  \sbox\@tempboxa{{\captionfonts #1: #2}}%
  \ifdim \wd\@tempboxa >\hsize
    {\captionfonts #1: #2\par}
  \else
    \hbox to\hsize{\hfil\box\@tempboxa\hfil}%
  \fi
  \vskip\belowcaptionskip}
\makeatother   % Cancel the effect of \makeatletter



%%fonte
%\usepackage{ae}
%\usepackage[T1]{fontenc}

%\DeclareFixedFont{\numberfont}{T1}{phv}{bx}{n}{2cm}

%%% redefine o formato do título
\titleformat{\chapter}[display]
  {\normalfont\Large\sffamily
  }
  {%\titlerule[3pt]%
   \filright
   \rule[32pt]{.7\linewidth}{4pt}
   \hspace{-11pt}
   \shadowbox{
   \begin{minipage}{.18\linewidth}
     \begin{center}
       \textsc{\Large\chaptertitlename}\\
       \vspace{1ex}
       { \thechapter}\\
       \vspace{1ex}
     \end{center}
   \end{minipage}}
  }
  {0pt}
  {\filcenter
   \Huge
   }
  [\hfill\rule{.8\textwidth}{0.5pt}\\
     \vskip-1.8ex\hfill\rule{.7\textwidth}{3pt}]


% primeira letra do texto
\font\largefont = pzcmi7t scaled 6500
\newcommand{\versal}[1]{{\noindent
    \setbox0\hbox{\largefont #1 }%
    \count0=\ht0                   % height of versal
    \count1=\baselineskip          % baselineskip
    \divide\count0 by \count1      % versal height/baselineskip
    \dimen1 = \count0\baselineskip % distance to drop versal
    \advance\count0 by 1\relax     % no of indented lines
    \dimen0=\wd0                   % width of versal
    \global\hangindent\dimen0      % set indentation distance
    \global\hangafter-\count0      % set no of indented lines
    \hskip-\dimen0\setbox0\hbox to\dimen0{\raise-\dimen1\box0\hss}%
    \dp0=0in\ht0=0in\box0}}

%-------------RONALDO PARA CITAR PAGINAS--------------------
%\renewcommand*{\backref}[1]{}
%\renewcommand*{\backrefalt}[4]{
%    \ifcase #1
%        Não citado no texto.
%    \or
%        Citado na página~#2.
%    \else
%        Citado nas páginas #2.
%    \fi
%}



\usepackage[ruled,vlined,portugues,algochapter]{algorithm2e}
%\usepackage{algorithmic-pt}  % Algoritmos em Portugues
\usepackage{eqparbox,array}

\usepackage[sf,outermarks,clearempty]{titlesec}

\usepackage{comment}
\usepackage{fontenc}
\usepackage{inputenc}
\usepackage{listing}
\usepackage{listings}
\usepackage{framed}


%\lstset{language=C++,captionpos=t,tabsize=2,frame=lines,keywordstyle=\color{blue},commentstyle=\color{lightdark},stringstyle=\color{red},breaklines=true,showstringspaces=false,basicstyle=\footnotesize}

\lstset{language=C++,basicstyle=\footnotesize\rmfamily, % Standardschrift
         numbers=left,               % Ort der Zeilennummern
         numberstyle=\tiny,          % Stil der Zeilennummern
         numbersep=5pt,              % Abstand der Nummern zum Text
         tabsize=3,                  % Groesse von Tabs
         extendedchars=true,         %
         breaklines=true,            % Zeilen werden Umgebrochen
         frame=b,
         keywordstyle=[1]\textbf,    % Stil der Keywords
         stringstyle=\color{white}\ttfamily, % Farbe der String
         showspaces=false,           % Leerzeichen anzeigen ?
         showtabs=false,             % Tabs anzeigen ?
         xleftmargin=17pt,
         framexleftmargin=17pt,
         framexrightmargin=5pt,
         framexbottommargin=4pt,
         rulesepcolor=\color{gray},
         columns=fullflexible,
         %extendedchar=true,
         %backgroundcolor=\color{lightgray},
         showstringspaces=false,      % Leerzeichen in Strings anzeigen ?
    emph={synchronizeThreadGroup}, emphstyle={\textbf},
    emph={[2]atomicInc}, emphstyle={[2]\textbf},
    emph={[3]startThreads}, emphstyle={[3]\textbf},
    emph={[4]end}, emphstyle={[4]\textbf},
    emph={[5]algorithm}, emphstyle={[5]\textbf},
    emph={[6]deviceMem},emphstyle={[6]\textbf},
    emph={[7]kernel},emphstyle={[7]\textbf},
    emph={[8]to},emphstyle={[8]\textbf},
    emph={[9]then},emphstyle={[9]\textbf},
    emph={[10]procedure},emphstyle={[10]\textbf},
    emph={[11]dataset},emphstyle={[11]\textbf},
    emph={[12]shared},emphstyle={[12]\textbf},
    emph={[13]Entrada},emphstyle={[13]\textbf},
    emph={[14]Saida},emphstyle={[14]\textbf},
    emph={[15]foreach},emphstyle={[15]\textbf},
    emph={[16]atomicExch},emphstyle={[16]\textbf},
    emph={[17]atomicMin},emphstyle={[17]\textbf},
    emph={[18]shared},emphstyle={[18]\textbf}
 }

\renewcommand\algorithmiccomment[1]{%
    {// \small{\textit{#1}}}%
}



 
 
 \renewcommand*\thelstnumber{\oldstylenums{\the\value{lstnumber}}}
 \renewcommand*\lstlistingname{Algoritmo}
 \renewcommand*\lstlistlistingname{Lista de Algoritmos}
 
 \newcommand{\Nhashfunctions}{m}
 \newcommand{\TopKMotifs}{\textit{TopK-Motifs} }
 \newcommand{\kNN}{kNN }
 \newcommand{\AllkNN}{AllkNN }
 \newcommand{\CUDAAllkNN}{\emph{CUDA-AllkNN()} }
 \newcommand{\CUDATopkMotifs}{\emph{CUDA-TopKMotifs()} }

\acrodef{CBIR}{Content-based image retrieval}
\acrodef{MAM}{Metric Access Method}
\acrodef{AM}{Access Method}
\acrodef{SAM}{Spatial Access Method}
\acrodef{MST} {Minimum Spanning Tree}
\acrodef{IR} {Information Retrieval}
\acrodef{NDC} {Number of Distance Calculations}
\acrodef{LAESA} {Linear Approximating Eliminating Search Algorithm}
\acrodef{AESA} {Approximating Eliminating Search Algorithm}
\acrodef{RNG} {Relative Neighborhood Graph}
\acrodef{DT} {Delaunay Triangulation}
\acrodef{GG} {Gabriel Graph}
\acrodef{UG} {Urquhart Graph}
\acrodef{SAT} {Spacial Approximation Tree}
\acrodef{RNDF} {Relative Neighborhood Density Factor}
\acrodef{NN} {Nearest Neighbor}
\acrodef{NAG} {Neighborhood Approximation Graph}
\acrodef{HRG} {Hyperspherical Region Graph}
\acrodef{NA-Graph} {Neighborhood Approximation Graph}
\acrodef{DA} {Disk Access}
\acrodef{DTW} {Dynamic Time Warping}
\acrodef{LSH} {Locality Sensitive Hashing}
\acrodef{CNN} {Red Neuronal  Convolutiva}
\acrodef{CNNs} {Redes Neuronales  Convolutivas}

%\newcommand{ \Correction }[ 1 ] {\textcolor{black}{#1}}
%\newcommand{ \NewMaterial }[ 1 ] {\textcolor{black}{#1}}
%\newcommand{ \ConnectDots }[ 1 ] {\textcolor{black}{#1}}
%\newcommand{ \NewMaterialGPU }[ 1 ] {\textcolor{black}{#1}}
%\newcommand{ \Error }[ 1 ] {\textcolor{black}{#1}}


\acrodef{CBIR} {Content-based Image Retrieval}
\acrodef{MAM}  {Métodos de Acceso Métrico}
\acrodef{SAM}  {Métodos de Acceso Espacial}
\acrodef{MAE}  {Métodos de Acesso Espaciais}

\acrodef{DTW}  {Dynamic Time Warping}
\acrodef{LSH}  {Locality Sensitive Hashing}


%-------------RONALDO PARA CITAR PAGINAS--------------------


%\hyphenpenalty=2000
%\tolerance=2000
\hyphenpenalty=5000
\tolerance=5000


\hyphenation{di-men-sio-na-li-da-de}
\hyphenation{uni-di-men-sional}
\hyphenation{multi-di-men-sional}
\hyphenation{re-pre-sen-ta-coes}





\begin{document}
%\input{macrosGuto}
%\setlength{\parindent}{10ex}
%\setlength{\parskip}{1.5ex}



%\pagestyle{empty}


%%% insere a capa
%%% edite os campos para título, data, orientador e nome
\include{capa}

\pagenumbering{roman}

\include{resumo}
\cleardoublepage

\addcontentsline{toc}{section}{Índice}
\tableofcontents
\cleardoublepage

%\addcontentsline{toc}{section}{Lista de símbolos}
%\chapter*{Lista de símbolos}

\setstretch{1.25}

%\cleardoublepage


\singlespacing
\addcontentsline{toc}{section}{Lista de Figuras}
\listoffigures
%\cleardoublepage

\listoftables
\addcontentsline{toc}{section}{Lista de Tabelas}
%\cleardoublepage

%\listofalgorithms
%\addcontentsline{toc}{section}{Lista de Algoritmos}
%\cleardoublepage
%\clearpage


% [...]
\pagestyle{plain}
\onehalfspace
\pagenumbering{arabic}

\include{chapter1}
\include{chapter2}
\include{chapter3}
\include{chapter4}
\include{chapter5}
\include{chapter6}
\include{chapter7}


\addcontentsline{toc}{chapter}{Referencias Bibliográficas}

\bibliographystyle{apalike}
\bibliography{references}


\end{document}

 